<!-- <div class="container">
  <div class="row">
    <div class="col">
      <div class="card m-2">
        <h1 class="h1 text-center mt-2">Create Bank Account</h1>
        <form
          class="card-body cardbody-color shadow"
          #f="ngForm"
          (ngSubmit)="f.form.valid && createAccount(f)"
          novalidate
        >
          <div class="form-row">
            <div class="col">
              <input
                type="text"
                class="form-control"
                placeholder="First name"
              />
            </div>
            <div class="col">
              <input type="text" class="form-control" placeholder="Last name" />
            </div>
          </div>
       
          <div class="mb-3 form-floating">
            <input
              type="text"
              ngModel
              name="customerName"
              id="customerName"
              placeholder="customerName"
              class="form-control"
              required
              #customerName="ngModel"
            />
            <div
              class="alert alert-danger mt-2"
              role="alert"
              *ngIf="customerName.errors && f.submitted"
            >
              customerName is required!
            </div>
          </div>

          <select
            ngModel
            class="form-select mb-3"
            aria-label="Default select example"
            name="accountType"
          >
            <option value="" disabled selected>Account Type</option>
            <option value="Savings">Savings</option>
            <option value="Current">Current</option>
          </select>

          <div class="mb-3">
            <input
              type="number"
              ngModel
              name="intialAmmount"
              id="intialAmmount"
              placeholder="intialAmmount"
              class="form-control"
              required
              #intialAmmount="ngModel"
            />
            <div
              class="alert alert-danger mt-2"
              role="alert"
              *ngIf="intialAmmount.errors && f.submitted"
            >
              intialAmmount is required!
            </div>
          </div>

          <div class="text-center">
            <button type="submit" class="btn btn-color px-5 mb-5 w-100">
              {{ !flag ? "Create" : "Update" }}
            </button>
          </div>
          <div class="form-group">
            <div
              class="alert alert-danger mt-2"
              role="alert"
              *ngIf="f.submitted && isCreateAccountFailed"
            >
              Login failed: Username or Password Incorrect
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
 -->

<!-- <div class="mb-3 form-floating">
          <input
            type="text"
            ngModel
            name="username"
            id="floatingInput"
            placeholder="username"
            class="form-control"
            required
            #username="ngModel"
            minlength="5"
            maxlength="20"
            [ngClass]="{ 'is-invalid': f.submitted && username.errors }"
          />
          <label for="floatingUsername">Username</label>
          <div
            *ngIf="f.submitted && username.errors"
            class="invalid-feedback"
          >
            <div *ngIf="username.errors['required']">
              Username is required
            </div>
            <div *ngIf="username.errors['minlength']">
              Username must be at least 6 characters
            </div>
            <div *ngIf="username.errors['maxlength']">
              Username must be at most 20 characters
            </div>
          </div>
        </div> -->

<div class="container shadow mb-2 mt-2">
  <h1 class="text-center text-secondary display-5">Create Account</h1>
  <div class="row mt-2">
    <div class="col-10">
      <div class="container offset-md-1">
        <div class="row">
          <div class="col mb-3">
            <form
              #f="ngForm"
              (ngSubmit)="f.form.valid && createAccount(f)"
              novalidate
            >
              <!-- <div class="mb-3 form-group">
              <input
                type="text"
                ngModel
                name="username"
                id="floatingInput"
                placeholder="username"
                class="form-control"
                required
                #username="ngModel"
                minlength="5"
                maxlength="20"
                [ngClass]="{ 'is-invalid': f.submitted && username.errors }"
              />
              <label for="floatingUsername">Username</label>
              <div
                *ngIf="f.submitted && username.errors"
                class="invalid-feedback"
              >
                <div *ngIf="username.errors['required']">
                  Username is required
                </div>
                <div *ngIf="username.errors['minlength']">
                  Username must be at least 6 characters
                </div>
                <div *ngIf="username.errors['maxlength']">
                  Username must be at most 20 characters
                </div>
              </div>
            </div> -->
              <div class="row mt-2 mb-3">
                <div class="form-group">
                  <div class="text-danger" *ngIf="usernameFailed">
                    {{ usernameError }}
                  </div>
                </div>
                <div class="form-group col">
                  <input
                    type="text"
                    ngModel
                    name="username"
                    id="floatingInput"
                    [(ngModel)]="form.username"
                    placeholder="username"
                    class="form-control"
                    required
                    #username="ngModel"
                    minlength="5"
                    maxlength="20"
                    (keypress)="validate()"
                    [ngClass]="{ 'is-invalid': f.submitted && username.errors }"
                  />
                  <!-- <div *ngIf="isCreateAccountFailed" class="invalid-feedback">
                    {{ errorMessage }}
                  </div> -->

                  <div
                    *ngIf="f.submitted && username.errors"
                    class="invalid-feedback"
                  >
                    <div *ngIf="username.errors['required']">
                      Username is required
                    </div>
                    <div *ngIf="username.errors['onKeyDown']">
                      Username is required
                    </div>
                    <div *ngIf="username.errors['minlength']">
                      Username must be at least 6 characters
                    </div>
                    <div *ngIf="username.errors['maxlength']">
                      Username must be at most 20 characters
                    </div>
                  </div>
                </div>

                <div class="form-group col">
                  <input
                    type="text"
                    class="form-control"
                    id="password"
                    placeholder="password"
                    [value]="form.username + '@123'"
                    disabled
                  />
                </div>
              </div>

              <div class="row mt-2 mb-3">
                <div class="form-group">
                  <div class="text-danger" *ngIf="firstnameFailed">
                    {{ firstnameError }}
                  </div>
                </div>
                <div class="form-group">
                  <div class="text-danger" *ngIf="lastnameFailed">
                    {{ lastnameError }}
                  </div>
                </div>
                <div class="form-group col">
                  <input
                    type="text"
                    [(ngModel)]="form.firstName"
                    ngModel
                    name="firstName"
                    (keypress)="validate()"
                    id="firstName"
                    placeholder="First Name"
                    class="form-control"
                    required
                    #firstName="ngModel"
                    minlength="2"
                    maxlength="20"
                    [ngClass]="{
                      'is-invalid': f.submitted && firstName.errors
                    }"
                  />

                  <div
                    *ngIf="f.submitted && firstName.errors"
                    class="invalid-feedback"
                  >
                    <div *ngIf="firstName.errors['required']">
                      FirstName is required
                    </div>
                    <div *ngIf="firstName.errors['minlength']">
                      FirstName must be at least 2 characters
                    </div>
                    <div *ngIf="firstName.errors['maxlength']">
                      FirstName must be at most 20 characters
                    </div>
                  </div>
                </div>

                <div class="form-group col">
                  <input
                    type="text"
                    [(ngModel)]="form.lastName"
                    (keypress)="validate()"
                    ngModel
                    name="lastName"
                    id="lastName"
                    placeholder="Last Name"
                    class="form-control"
                    required
                    #lastName="ngModel"
                    minlength="2"
                    maxlength="20"
                    [ngClass]="{ 'is-invalid': f.submitted && lastName.errors }"
                  />

                  <div
                    *ngIf="f.submitted && lastName.errors"
                    class="invalid-feedback"
                  >
                    <div *ngIf="lastName.errors['required']">
                      LastName is required
                    </div>
                    <div *ngIf="lastName.errors['minlength']">
                      LastName must be at least 2 characters
                    </div>
                    <div *ngIf="lastName.errors['maxlength']">
                      LastName must be at most 20 characters
                    </div>
                  </div>
                </div>
              </div>
              <div class="form-group mb-3">
                <div class="form-group">
                  <div class="text-danger" *ngIf="cityfailed">
                    {{ cityError }}
                  </div>
                </div>
                <input
                  type="text"
                  ngModel
                  [(ngModel)]="form.city"
                  (keypress)="validate()"
                  name="city"
                  id="city"
                  placeholder="City"
                  class="form-control"
                  required
                  #city="ngModel"
                  minlength="2"
                  [ngClass]="{ 'is-invalid': f.submitted && city.errors }"
                />

                <div
                  *ngIf="f.submitted && city.errors"
                  class="invalid-feedback"
                >
                  <div *ngIf="city.errors['required']">City is required</div>
                  <div *ngIf="city.errors['minlength']">
                    City must be at least 2 characters
                  </div>
                </div>
              </div>
              <div class="form-group">
                <div class="text-danger" *ngIf="phoneFailed">
                  {{ phoneError }}
                </div>
              </div>
              <div class="input-group mb-3">
                <div class="input-group-prepend">
                  <span class="input-group-text">+65</span>
                </div>
                <input
                  type="text"
                  [(ngModel)]="form.phone"
                  ngModel
                  name="phone"
                  id="phone"
                  placeholder="Phone"
                  class="form-control"
                  required
                  (keypress)="validatePhone()"
                  #phone="ngModel"
                  [ngClass]="{ 'is-invalid': f.submitted && phone.errors }"
                  minlength="8"
                  maxlength="8"
                />

                <div
                  *ngIf="f.submitted && phone.errors"
                  class="invalid-feedback"
                >
                  <div *ngIf="phone.errors['required']">
                    Phone Number is required
                  </div>
                  <div *ngIf="phone.errors['minlength']">
                    Phone Number must have 8 digits
                  </div>
                </div>
              </div>
              <div class="form-group">
                <select
                  required
                  [(ngModel)]="form.actType"
                  ngModel
                  name="actType"
                  class="form-select mb-3"
                  aria-label="Default select example"
                  #actType="ngModel"
                >
                  <option value="" disabled>Select Account Type</option>
                  <option value="savings" selected>Savings</option>
                  <option value="current">Current</option>
                </select>
                <div
                  *ngIf="f.submitted && actType.errors"
                  class="invalid-feedback"
                >
                  select Type
                </div>
              </div>

              <div class="input-group mb-3">
                <div class="input-group-prepend">
                  <span class="input-group-text">$</span>
                </div>
                <input
                  type="number"
                  [(ngModel)]="form.actBalance"
                  class="form-control"
                  id="actBalance"
                  placeholder="Initial Ammount"
                  ngModel
                  name="actBalance"
                  required
                  #actBalance="ngModel"
                  [ngClass]="{ 'is-invalid': f.submitted && actBalance.errors }"
                />
              </div>

              <div class="text-center">
                <button type="submit" class="btn btn-primary w-50 mb-2">
                  Create
                </button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
